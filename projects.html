<!DOCTYPE html>
<html lang="en">

<meta http-equiv="content-type" content="text/html;charset=utf-8" />

<head>
    <title>Kathir's Developers - Brick by brick, we build trust</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Montserrat:200,300,400,500,600,700,800&amp;display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="css/animate.css">

    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">


    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        /*
        * Enhanced styles for better alignment and responsiveness
        */
        .d-inline-flex {
            display: inline-flex !important;
        }

        /* Use flexbox for the ongoing filters row to manage alignment easily */
        #ongoing-filters {
            display: none;
            /* Hidden by default */
            justify-content: center;
            /* Center the dropdowns */
            align-items: center;
        }

        .ongoing-filters-container {
            display: flex;
            flex-wrap: wrap;
            /* Allow wrapping on smaller screens */
            gap: 1rem;
            /* Space between dropdowns */
            justify-content: center;
        }
        
        /* Ensures dropdowns take up less space on small screens */
        .ongoing-filters-container .form-control {
            max-width: 200px;
            width: 100%; /* Ensures it fills max-width */
        }

        /* Hides the hidden items for JavaScript filtering */
        .gallery-item-project.hidden {
            display: none !important;
        }

        /* Apply smooth scroll to the entire page */
        html {
            scroll-behavior: smooth;
        }
        
        /* ðŸš€ NEW STYLES: Matching Dropdown to Button Color/Style */
        #location-filter,
        #area-filter {
            /* Apply border and text color of btn-outline-primary */
            color: #007bff; /* Bootstrap Primary Blue */
            background-color: transparent;
            border: 1px solid #007bff; /* Primary Blue Border */
            font-weight: 500;
            box-shadow: none; /* Remove default inner shadow */
            
            /* Ensure consistent height with buttons */
            padding: .375rem 1.75rem .375rem .75rem; 
            height: calc(1.5em + .75rem + 2px); 
        }

        /* Style the dropdown when it is focused (active state) to match button hover */
        #location-filter:focus,
        #area-filter:focus {
            color: #fff; /* White text on focus */
            background-color: #007bff; /* Primary Blue background on focus */
            border-color: #007bff;
            outline: 0;
        }
        
        /* Ensure the options inside the dropdown use a standard color */
        #location-filter option,
        #area-filter option {
            color: #1a1a1a; 
            background-color: #fff;
        }
        
        /* Styling for the custom pagination container (block-27 is often used in this theme) */
        .block-27 ul {
            padding: 0;
            margin: 0;
            list-style: none;
            display: inline-block;
        }
        .block-27 ul li {
            display: inline-block;
            margin-bottom: 4px;
            font-weight: 400;
        }
        .block-27 ul li a,
        .block-27 ul li span {
            text-align: center;
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            border-radius: 50%;
            border: 1px solid #e6e6e6;
            color: #007bff; /* Primary Blue for inactive links */
        }
        .block-27 ul li.active a {
            background: #007bff; /* Primary Blue for active page */
            color: #fff;
            border: 1px solid transparent;
        }
        .block-27 ul li.disabled a {
            color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="images/logo.png" alt="Kathir's Developers" style="width: 100px; height: auto;">
                Kathir's <span>Developers</span> </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
                aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="fa fa-bars"></span> Menu
            </button>
            <div class="collapse navbar-collapse" id="ftco-nav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
                    <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
                    <li class="nav-item active"><a href="projects.html" class="nav-link">Projects</a></li>
                    <li class="nav-item"><a href="gallery.html" class="nav-link">Gallery</a></li>
                    <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_2.jpg');"
        data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row no-gutters slider-text align-items-end">
                <div class="col-md-9 ftco-animate pb-5">
                    <p class="breadcrumbs mb-2"><span class="mr-2"><a href="index.html">Home <i
                                    class="ion-ios-arrow-forward"></i></a></span> <span>Services <i
                                class="ion-ios-arrow-forward"></i></span></p>
                    <h1 class="mb-0 bread">Project</h1>
                </div>
            </div>
        </div>
    </section>

    <section class="ftco-section ftco-intro bg-light">
        <div class="container">
            <div class="row justify-content-center pb-5 mb-3">
                <div class="col-md-7 heading-section text-center ftco-animate">
                    <h2>Services We Offer</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-cleaning"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Construction Services</h3>
                            <p>We redefine full-service and bring customized, innovative solutions to all project types.
                            </p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-joist"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Constructability and Budget Control</h3>
                            <p>We optimize the design process to align with means and methods of construction & provide
                                best value.</p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-road"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Emergency Response</h3>
                            <p>We're here when you need us most, from fire remediation to flood mitigation and
                                compliance upgrades.</p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-pipe"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Preconstruction Services</h3>
                            <p>Early engagement during the design process enhances value when the most critical
                                decisions are made.</p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-kitchen"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Prefabrication and Modular Construction</h3>
                            <p>Our offsite modular construction services combine design for manufacture, assembly and
                                procurement.</p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-brickwall"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Delivery Methods</h3>
                            <p>From design-build to P3s, we deliver projects under all procurement methods.</p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-wall"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Self-Perform Capabilities</h3>
                            <p>Our workforce can self-perform scopes of work to drive value and schedule and reduce
                                costs.</p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 d-flex align-self-stretch ftco-animate">
                    <div class="d-block services">
                        <div class="icon d-flex align-items-center justify-content-center">
                            <span class="flaticon-rajpath"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Sustainable Construction Services</h3>
                            <p>Our integrated sustainable construction services provide cost-effective solutions for
                                your needs.</p>
                            <a href="#" class="btn-custom d-flex align-items-center justify-content-center"><span
                                    class="fa fa-chevron-right"></span><i class="sr-only">Read more</i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <section class="ftco-section" id="project-gallery-section">
        <div class="container">
            <div class="row justify-content-center mb-5 pb-3">
                <div class="col-md-7 heading-section ftco-animate text-center">
                    <h2 class="mb-4">Our Projects</h2>
                </div>
            </div>

            <div class="row d-flex">
                <div class="col-md-12 text-center d-flex justify-content-center ftco-animate">
                    <div class="gallery-filters mb-5">
                        <button class="btn btn-outline-primary mr-2 mb-2 gallery-tab-project active" data-category="all">
                            All Projects (<span id="count-all">12</span>)
                        </button>
                        <button class="btn btn-outline-primary mr-2 mb-2 gallery-tab-project" data-category="ongoing">
                            Ongoing Projects (<span id="count-ongoing">7</span>)
                        </button>
                        <button class="btn btn-outline-primary mb-2 gallery-tab-project" data-category="completed">
                            Completed Projects (<span id="count-completed">5</span>)
                        </button>
                    </div>
                </div>
                
                <div class="col-md-12 text-center mb-5 pb-3 ftco-animate" id="ongoing-filters" style="display: none;">
                    <div class="d-flex justify-content-center">
                        <div class="dropdown mr-4">
                            <select id="location-filter" class="form-control">
                                <option value="">-- Select Location --</option>
                                </select>
                        </div>
                        <div class="dropdown">
                            <select id="area-filter" class="form-control" disabled>
                                <option value="">-- Select Area --</option>
                                </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row" id="project-gallery-row">
                </div> 
            
            <div class="row mt-5" id="pagination-container">
                <div class="col text-center">
                    <div class="block-27">
                        </div>
                </div>
            </div>

        </div>
    </section>

    <div id="project-templates" style="display: none;">
        
        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-1">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-1.jpg);">
                <a href="images/gallery-1.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-2">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-2.jpg);">
                <a href="fair-land.html" class="icon d-flex justify-content-center align-items-center">
                    <span class="fa fa-link"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-3">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-3.jpg);">
                <a href="images/gallery-3.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-4">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-4.jpg);">
                <a href="images/gallery-4.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-5">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-5.jpg);">
                <a href="images/gallery-5.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-6">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-6.jpg);">
                <a href="images/gallery-6.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-7">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-7.jpg);">
                <a href="images/gallery-7.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-8">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-8.jpg);">
                <a href="images/gallery-8.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-9">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-9.jpg);">
                <a href="images/gallery-9.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-10">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-10.jpg);">
                <a href="images/gallery-10.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-11">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-11.jpg);">
                <a href="images/gallery-11.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>

        <div class="col-lg-4 col-md-4 ftco-animate gallery-item-project" data-id="proj-12">
            <div class="work mb-2 img d-flex align-items-end" style="background-image: url(images/gallery-12.jpg);">
                <a href="images/gallery-12.jpg" class="icon image-popup d-flex justify-content-center align-items-center">
                    <span class="fa fa-expand"></span>
                </a>
            </div>
            <div class="text-center mt-2 project-info">
                <h4 class="project-name-placeholder"><a href="" style="color: #1a1a1a; text-decoration: none;"></a></h4>
                <p class="project-description-placeholder" style="color: #666; font-size: 14px;"></p>
            </div>
        </div>
    </div> 

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-lg-3 mb-4 mb-md-0">
                    <h2 class="footer-heading">Kathir's Developers</h2>
                    <p>
                        Your Vision, Our Foundation
                        Kathir's Developers
                        Brick by brick, we build trust
                    </p>
                    <ul class="ftco-footer-social p-0">
                        <li class="ftco-animate"><a href="#" data-toggle="tooltip" data-placement="top"
                                title="Twitter"><span class="fa fa-twitter"></span></a></li>
                        <li class="ftco-animate"><a href="#" data-toggle="tooltip" data-placement="top"
                                title="Facebook"><span class="fa fa-facebook"></span></a></li>
                        <li class="ftco-animate"><a href="#" data-toggle="tooltip" data-placement="top"
                                title="Instagram"><span class="fa fa-instagram"></span></a></li>
                    </ul>
                </div>

                <div class="col-md-6 col-lg-3 pl-lg-5 mb-4 mb-md-0">
                    <h2 class="footer-heading">Quick Links</h2>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="py-2 d-block">Home</a></li>
                        <li><a href="about.html" class="py-2 d-block">About</a></li>
                        <li><a href="projects.html" class="py-2 d-block">Projects</a></li>
                        <li><a href="contact.html" class="py-2 d-block">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-6 col-lg-3 mb-4 mb-md-0">
                    <h2 class="footer-heading">Have a Questions?</h2>
                    <div class="block-23 mb-3">
                        <ul>
                            <li><span class="icon fa fa-map"></span><span class="text">
                                    Hanuman Kovil Padithurai, Simmakkal, Madurai, Tamilnadu 625002</span></li>
                            <li><a href="tel://+918807344264"><span class="icon fa fa-phone"></span><span
                                        class="text">+91-88073 44264</span></a></li>
                            <li><a href="mailto:sales@kathirdevelopers.com"><span
                                        class="icon fa fa-paper-plane"></span><span
                                        class="text">sales@kathirdevelopers.com</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-md-12 text-center">

                    <p class="copyright">
                        Copyright &copy;
                        <script>document.write(new Date().getFullYear());</script> All rights reserved | Designed by SKG
                        Consulting Pvt Ltd
                    </p>
                </div>
            </div>
        </div>
    </footer>


    <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
            <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
            <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
                stroke="#F96D00" />
        </svg></div>


    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src="js/jquery.timepicker.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/scrollax.min.js"></script>
    <!-- <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&amp;sensor=false"></script>
    <script src="js/google-map.js"></script> -->
    <script src="js/main.js"></script>

    <script>
        // --- CONFIGURATION & DATA ---
        const PROJECTS_PER_PAGE = 8; 
        
        // Maps locations to their respective areas (used for dropdown population)
        const locationAreaMap = {
            "chennai": ["omr", "ecr", "tambaram"],
            "madurai": ["ayyankottai", "gomatipuram", "tirupalai"]
        };

        // Project Data Array (Expanded to 12 projects)
        // IMPORTANT: The 'id' field MUST match the 'data-id' attribute in the HTML templates above.
        const projectData = [
            // Original 8 Projects
            { "id": "proj-1", "project": "OMR Vista", "category": "ongoing", "location": "chennai", "area": "omr", "link": "work-single.html", "description": "Chennai (OMR) - Building tomorrow's skyline." },
            { "id": "proj-2", "project": "Fair Land", "category": "ongoing", "location": "madurai", "area": "ayyankottai", "link": "fair-land.html", "description": "Madurai (Ayyankottai) - Contemporary commercial space.", "is_link": true },
            { "id": "proj-3", "project": "ECR Heights", "category": "ongoing", "location": "chennai", "area": "ecr", "link": "work-single.html", "description": "Chennai (ECR) - Classic brick architecture." },
            { "id": "proj-4", "project": "Velachery Square", "category": "completed", "location": "", "area": "", "link": "work-single.html", "description": "Coastal living with serene ocean views." },
            { "id": "proj-5", "project": "Gomatipuram Plaza", "category": "ongoing", "location": "madurai", "area": "gomatipuram", "link": "work-single.html", "description": "Madurai (Gomatipuram) - Spacious industrial facility." },
            { "id": "proj-6", "project": "Anna Nagar", "category": "ongoing", "location": "chennai", "area": "omr", "link": "work-single.html", "description": "Chennai (OMR) - Bright educational spaces." },
            { "id": "proj-7", "project": "KK Nagar", "category": "completed", "location": "", "area": "", "link": "work-single.html", "description": "Elegant residential complex with lush gardens." },
            { "id": "proj-8", "project": "Pasumalai Heights", "category": "completed", "location": "", "area": "", "link": "work-single.html", "description": "Sophisticated gallery space." },
            // 4 New Placeholder Projects
            { "id": "proj-9", "project": "Tambaram Gardens", "category": "ongoing", "location": "chennai", "area": "tambaram", "link": "work-single.html", "description": "Chennai (Tambaram) - Luxurious residential villas." },
            { "id": "proj-10", "project": "Tirupalai Towers", "category": "completed", "location": "", "area": "", "link": "work-single.html", "description": "Madurai (Tirupalai) - Modern IT park infrastructure." },
            { "id": "proj-11", "project": "Ambattur Logistics", "category": "ongoing", "location": "chennai", "area": "omr", "link": "work-single.html", "description": "Chennai (OMR) - High-capacity warehouse and logistics center." },
            { "id": "proj-12", "project": "Kovai Residency", "category": "completed", "location": "", "area": "", "link": "work-single.html", "description": "A successful residential project in Coimbatore." }
        ];


        // --- DOM Elements & State ---
        const locationDropdown = document.getElementById('location-filter');
        const areaDropdown = document.getElementById('area-filter');
        const ongoingFiltersDiv = document.getElementById('ongoing-filters');
        // Selects all filter buttons
        const galleryTabs = document.querySelectorAll('.gallery-tab-project'); 
        const projectGalleryRow = document.getElementById('project-gallery-row'); 
        const paginationContainer = document.getElementById('pagination-container');
        const projectTemplates = document.getElementById('project-templates'); 

        let currentSelectedLocation = "";
        let currentSelectedArea = "";
        let currentCategory = 'all'; 


        // --- FUNCTION 0: Renders the filtered and paginated items to the DOM ---
        function renderGalleryItems(itemsToDisplay) {
            projectGalleryRow.innerHTML = '';
            
            itemsToDisplay.forEach(project => {
                // 1. Find the static HTML template using the project's ID
                const template = projectTemplates.querySelector(`[data-id="${project.id}"]`);
                
                if (template) {
                    // 2. Clone the template (true for deep clone)
                    const projectCard = template.cloneNode(true);
                    
                    // 3. Inject dynamic data from the JS array into the cloned HTML
                    const nameLink = projectCard.querySelector('.project-name-placeholder a');
                    nameLink.textContent = project.project;
                    nameLink.setAttribute('href', project.link);

                    projectCard.querySelector('.project-description-placeholder').textContent = project.description;

                    // 4. Update the main image link for details/popup
                    const imageLink = projectCard.querySelector('.work a');
                    // Check if it's a direct link or an image popup (using the template's existing href attribute for the image popup)
                    if(project.is_link) {
                        imageLink.setAttribute('href', project.link);
                    } else {
                         // For image-popup links, use the existing image-popup href
                         const currentImageLink = imageLink.getAttribute('href');
                         imageLink.setAttribute('href', currentImageLink); 
                    }
                    
                    // 5. Append the finalized card to the visible row
                    projectGalleryRow.appendChild(projectCard);
                }
            });

            // 6. Re-initialize Magnific Popup for newly added elements
            if (typeof jQuery !== 'undefined' && typeof jQuery.fn.magnificPopup !== 'undefined') {
                $('.image-popup').magnificPopup({
                    type: 'image',
                    closeOnContentClick: true,
                    closeBtnInside: false,
                    fixedContentPos: true,
                    mainClass: 'mfp-no-margins mfp-with-zoom', 
                    image: { verticalFit: true },
                    zoom: { enabled: true, duration: 300 }
                });
            }
        }
        
        // --- FUNCTION 1: Populates the Location dropdown ---
        function populateLocationFilter() {
            const locations = Object.keys(locationAreaMap);
            locationDropdown.innerHTML = '<option value="">-- Select Location --</option>';
            locations.forEach(locationKey => {
                const option = document.createElement('option');
                option.value = locationKey;
                // Capitalize first letter for display
                option.textContent = locationKey.charAt(0).toUpperCase() + locationKey.slice(1); 
                locationDropdown.appendChild(option);
            });
        }


        // --- FUNCTION 2: Updates Area dropdown and triggers re-filter (on location change) ---
        function updateAreaFilterAndGallery() {
            const selectedLocation = locationDropdown.value;
            areaDropdown.innerHTML = '<option value="">-- Select Area --</option>';
            areaDropdown.disabled = true;

            if (selectedLocation) {
                const areas = locationAreaMap[selectedLocation] || [];
                areaDropdown.disabled = areas.length === 0;

                areas.forEach(area => {
                    const option = document.createElement('option');
                    option.value = area;
                    option.textContent = area.charAt(0).toUpperCase() + area.slice(1); 
                    areaDropdown.appendChild(option);
                });
            }

            areaDropdown.value = "";
            currentSelectedLocation = selectedLocation;
            currentSelectedArea = "";
            filterGalleryItems(currentCategory, 1);
        }

        // --- FUNCTION 3: Creates the Pagination HTML ---
        function createPaginationLinks(totalPages, currentPage, category) {
            paginationContainer.innerHTML = '<div class="col text-center"><div class="block-27"></div></div>'; // Reset container
            
            if (totalPages <= 1) return;

            const ul = document.createElement('ul');
            // Previous button
            const prevLi = document.createElement('li');
            prevLi.innerHTML = `<a href="#">&lt;</a>`;
            if (currentPage === 1) {
                prevLi.classList.add('disabled');
            } else {
                prevLi.addEventListener('click', (e) => {
                    e.preventDefault();
                    filterGalleryItems(category, currentPage - 1);
                    document.getElementById('project-gallery-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            }
            ul.appendChild(prevLi);

            // Page links
            for (let i = 1; i <= totalPages; i++) {
                const li = document.createElement('li');
                li.innerHTML = `<a href="#">${i}</a>`;
                if (i === currentPage) {
                    li.classList.add('active');
                } else {
                    li.addEventListener('click', (e) => {
                        e.preventDefault();
                        filterGalleryItems(category, i);
                        document.getElementById('project-gallery-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                }
                ul.appendChild(li);
            }

            // Next button
            const nextLi = document.createElement('li');
            nextLi.innerHTML = `<a href="#">&gt;</a>`;
            if (currentPage === totalPages) {
                nextLi.classList.add('disabled');
            } else {
                nextLi.addEventListener('click', (e) => {
                    e.preventDefault();
                    filterGalleryItems(category, currentPage + 1);
                    document.getElementById('project-gallery-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            }
            ul.appendChild(nextLi);

            // Append list to block-27 container
            const block27 = paginationContainer.querySelector('.block-27');
            if (block27) block27.appendChild(ul);
        }


        // --- FUNCTION 4: The main filtering and rendering logic ---
        function filterGalleryItems(category, page = 1) {
            currentCategory = category;
            
            // 1. Calculate All Counts and Update Buttons
            const ongoingCount = projectData.filter(item => item.category === 'ongoing').length;
            const completedCount = projectData.filter(item => item.category === 'completed').length;
            const allCount = projectData.length;

            document.getElementById('count-all').textContent = allCount;
            document.getElementById('count-ongoing').textContent = ongoingCount;
            document.getElementById('count-completed').textContent = completedCount;


            // 2. Handle visibility of sub-filters and state reset
            if (category === 'ongoing') {
                ongoingFiltersDiv.style.display = 'flex';
            } else {
                ongoingFiltersDiv.style.display = 'none';
                if (currentCategory !== 'ongoing') {
                    // Reset sub-filter state when switching away from 'ongoing'
                    currentSelectedLocation = "";
                    currentSelectedArea = "";
                    locationDropdown.value = "";
                    areaDropdown.innerHTML = '<option value="">-- Select Area --</option>';
                    areaDropdown.disabled = true;
                }
            }

            // 3. Filter the DATA array
            let filteredData = projectData.filter(item => {
                const matchesCategory = (category === 'all' || item.category === category);
                let matchesSubFilter = true;
                
                if (category === 'ongoing') {
                    if (currentSelectedLocation && item.location !== currentSelectedLocation) matchesSubFilter = false;
                    if (matchesSubFilter && currentSelectedArea && item.area !== currentSelectedArea) matchesSubFilter = false;
                }

                return matchesCategory && matchesSubFilter;
            });

            // 4. Apply Pagination Logic
            const totalItems = filteredData.length;
            const totalPages = Math.ceil(totalItems / PROJECTS_PER_PAGE);
            let currentPage = Math.min(Math.max(1, page), totalPages || 1);
            const startIndex = (currentPage - 1) * PROJECTS_PER_PAGE;
            const endIndex = startIndex + PROJECTS_PER_PAGE;
            const itemsToDisplay = filteredData.slice(startIndex, endIndex);

            // 5. Render the items dynamically (using HTML templates)
            renderGalleryItems(itemsToDisplay);

            // 6. Generate Pagination Links
            createPaginationLinks(totalPages, currentPage, category);
        }


        // --- MAIN INITIALIZATION & EVENT LISTENERS ---
        document.addEventListener('DOMContentLoaded', function () {
            
            populateLocationFilter();

            // --- Tab Click Listener (Primary filter) ---
            galleryTabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    const category = this.getAttribute('data-category');

                    galleryTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');

                    // Filter gallery items, always starting at page 1 for a new category
                    filterGalleryItems(category, 1);
                    document.getElementById('project-gallery-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });
            
            // --- Location Dropdown Listener ---
            locationDropdown.addEventListener('change', updateAreaFilterAndGallery);
            
            // --- Area Dropdown Listener ---
            areaDropdown.addEventListener('change', function () {
                currentSelectedArea = this.value;
                // Only re-filter if the 'Ongoing Projects' tab is active
                if (document.querySelector('.gallery-tab-project.active').getAttribute('data-category') === 'ongoing') {
                    // Filter, always starting at page 1 for a new sub-filter selection
                    filterGalleryItems(currentCategory, 1); 
                }
            });

            // Initialize gallery (show 'all' items, page 1 and set counts)
            filterGalleryItems('all', 1);
        });
        
    </script>
</body>


</html>